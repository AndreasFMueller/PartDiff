assume(m > 0)$
assume(P2 > 0)$
assume(P1 - P2 > 0)$
S1: P1 * t;
S3: sqrt(2 * m * P2) * phi;
S2: integrate(sqrt(2 * m * (P1 - P2 / (r^2) - K * r^2)), r);
tex(S2);
S: S1 + S2 + S3;
Q1: diff(S, P1);
tex(Q1);
Q2: diff(S, P2);
tex(Q2);
